import{r as R,j as I,R as S,a7 as N,an as P}from"./index--0QK1py9.js";function h(t,i=[]){let u=[];function M(r,o){const n=R.createContext(o),s=u.length;u=[...u,o];function x(d){const{scope:a,children:c,...e}=d,m=(a==null?void 0:a[t][s])||n,l=R.useMemo(()=>e,Object.values(e));return I.jsx(m.Provider,{value:l,children:c})}function _(d,a){const c=(a==null?void 0:a[t][s])||n,e=R.useContext(c);if(e)return e;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${r}\``)}return x.displayName=r+"Provider",[x,_]}const f=()=>{const r=u.map(o=>R.createContext(o));return function(n){const s=(n==null?void 0:n[t])||r;return R.useMemo(()=>({[`__scope${t}`]:{...n,[t]:s}}),[n,s])}};return f.scopeName=t,[M,O(f,...i)]}function O(...t){const i=t[0];if(t.length===1)return i;const u=()=>{const M=t.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(r){const o=M.reduce((n,{useScope:s,scopeName:x})=>{const d=s(r)[`__scope${x}`];return{...n,...d}},{});return R.useMemo(()=>({[`__scope${i.scopeName}`]:o}),[o])}};return u.scopeName=i.scopeName,u}function j(t){const i=t+"CollectionProvider",[u,M]=h(i),[f,r]=u(i,{collectionRef:{current:null},itemMap:new Map}),o=c=>{const{scope:e,children:m}=c,l=S.useRef(null),p=S.useRef(new Map).current;return I.jsx(f,{scope:e,itemMap:p,collectionRef:l,children:m})};o.displayName=i;const n=t+"CollectionSlot",s=S.forwardRef((c,e)=>{const{scope:m,children:l}=c,p=r(n,m),C=N(e,p.collectionRef);return I.jsx(P,{ref:C,children:l})});s.displayName=n;const x=t+"CollectionItemSlot",_="data-radix-collection-item",d=S.forwardRef((c,e)=>{const{scope:m,children:l,...p}=c,C=S.useRef(null),E=N(e,C),v=r(x,m);return S.useEffect(()=>(v.itemMap.set(C,{ref:C,...p}),()=>void v.itemMap.delete(C))),I.jsx(P,{[_]:"",ref:E,children:l})});d.displayName=x;function a(c){const e=r(t+"CollectionConsumer",c);return S.useCallback(()=>{const l=e.collectionRef.current;if(!l)return[];const p=Array.from(l.querySelectorAll(`[${_}]`));return Array.from(e.itemMap.values()).sort((v,A)=>p.indexOf(v.ref.current)-p.indexOf(A.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:o,Slot:s,ItemSlot:d},a,M]}export{j as c};
//# sourceMappingURL=index-CaMr_zbb.js.map
