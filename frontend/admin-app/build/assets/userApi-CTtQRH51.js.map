{"version":3,"file":"userApi-CTtQRH51.js","sources":["../../src/services/api/userApi.js"],"sourcesContent":["import Cookies from 'js-cookie'\r\nimport axios from 'axios'\r\nconst API_BASE_URL_AUTH = import.meta.env.VITE_BASE_URL_AUTH\r\nconst axiosInstanceAuth = axios.create({\r\n  baseURL: API_BASE_URL_AUTH,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\nexport const getAllUsersDetail = async (signal) => {\r\n  try {\r\n    const token = Cookies.get('authToken')\r\n    if (!token) {\r\n      throw new Error('No authentication token found')\r\n    }\r\n\r\n    const response = await axiosInstanceAuth.get('/users/alldetails', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      signal: signal // Pass signal to request\r\n    })\r\n\r\n    return response.data\r\n  } catch (error) {\r\n    if (error.code === 'ERR_CANCELED') {\r\n      throw error\r\n    }\r\n\r\n    if (error.response) {\r\n      throw new Error(error.response.data.message || 'Server error')\r\n    } else if (error.request) {\r\n      throw new Error('No response from server')\r\n    } else {\r\n      throw new Error('An error occurred while sending the request')\r\n    }\r\n  }\r\n}\r\n\r\nexport const getAllRoles = async () => {\r\n  try {\r\n    const token = Cookies.get('authToken')\r\n    if (!token) {\r\n      throw new Error('No authentication token found')\r\n    }\r\n    const response = await axiosInstanceAuth.get('/roles/all', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return response.data\r\n  } catch (error) {\r\n    throw new Error(error.response.data.message || 'Server error')\r\n  }\r\n}\r\n\r\nexport const updateUserRole = async (userId, roleId) => {\r\n  try {\r\n    const token = Cookies.get('authToken')\r\n    if (!token) {\r\n      throw new Error('No authentication token found')\r\n    }\r\n    const response = await axiosInstanceAuth.put(\r\n      `roles/updateroleuser`,\r\n      {\r\n        UserId: userId,\r\n        RoleId: roleId\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      }\r\n    )\r\n    return response.data\r\n  } catch (error) {\r\n    throw new Error(error.response.data.message || 'Server error')\r\n  }\r\n}\r\n\r\nexport const getUserById = async (userId) => {\r\n  try {\r\n    const token = Cookies.get('authToken')\r\n    if (!token) {\r\n      throw new Error('No authentication token found')\r\n    }\r\n    const response = await axiosInstanceAuth.get(`/users/${userId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n    return response.data\r\n  } catch (error) {\r\n    throw new Error(error.response.data.message || 'Server error')\r\n  }\r\n}\r\n\r\nexport const lockAccountUser = async (userId, lockoutTimeUtc) => {\r\n  try {\r\n    const token = Cookies.get('authToken')\r\n    if (!token) {\r\n      throw new Error('No authentication token found')\r\n    }\r\n    const response = await axiosInstanceAuth.put(\r\n      `/users/lockaccount`,\r\n      {\r\n        userId: userId,\r\n        lockoutTimeUtc: lockoutTimeUtc\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      }\r\n    )\r\n    return response.data\r\n  } catch (error) {\r\n    throw new Error(error.response.data.message || 'Server error')\r\n  }\r\n}\r\n"],"names":["API_BASE_URL_AUTH","axiosInstanceAuth","axios","getAllUsersDetail","signal","token","Cookies","error","getAllRoles","updateUserRole","userId","roleId","getUserById","lockAccountUser","lockoutTimeUtc"],"mappings":"2EAEA,MAAMA,EAAoB,yBACpBC,EAAoBC,EAAM,OAAO,CACrC,QAASF,EACT,QAAS,IACT,QAAS,CACP,eAAgB,kBAClB,CACF,CAAC,EACYG,EAAoB,MAAOC,GAAW,CAC7C,GAAA,CACI,MAAAC,EAAQC,EAAQ,IAAI,WAAW,EACrC,GAAI,CAACD,EACG,MAAA,IAAI,MAAM,+BAA+B,EAUjD,OAPiB,MAAMJ,EAAkB,IAAI,oBAAqB,CAChE,QAAS,CACP,cAAe,UAAUI,CAAK,EAChC,EACA,OAAAD,CAAA,CACD,GAEe,WACTG,EAAO,CACV,MAAAA,EAAM,OAAS,eACXA,EAGJA,EAAM,SACF,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,cAAc,EACpDA,EAAM,QACT,IAAI,MAAM,yBAAyB,EAEnC,IAAI,MAAM,6CAA6C,CAEjE,CACF,EAEaC,EAAc,SAAY,CACjC,GAAA,CACI,MAAAH,EAAQC,EAAQ,IAAI,WAAW,EACrC,GAAI,CAACD,EACG,MAAA,IAAI,MAAM,+BAA+B,EAOjD,OALiB,MAAMJ,EAAkB,IAAI,aAAc,CACzD,QAAS,CACP,cAAe,UAAUI,CAAK,EAChC,CAAA,CACD,GACe,WACTE,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,cAAc,CAC/D,CACF,EAEaE,EAAiB,MAAOC,EAAQC,IAAW,CAClD,GAAA,CACI,MAAAN,EAAQC,EAAQ,IAAI,WAAW,EACrC,GAAI,CAACD,EACG,MAAA,IAAI,MAAM,+BAA+B,EAcjD,OAZiB,MAAMJ,EAAkB,IACvC,uBACA,CACE,OAAQS,EACR,OAAQC,CACV,EACA,CACE,QAAS,CACP,cAAe,UAAUN,CAAK,EAChC,CACF,CAAA,GAEc,WACTE,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,cAAc,CAC/D,CACF,EAEaK,EAAc,MAAOF,GAAW,CACvC,GAAA,CACI,MAAAL,EAAQC,EAAQ,IAAI,WAAW,EACrC,GAAI,CAACD,EACG,MAAA,IAAI,MAAM,+BAA+B,EAOjD,OALiB,MAAMJ,EAAkB,IAAI,UAAUS,CAAM,GAAI,CAC/D,QAAS,CACP,cAAe,UAAUL,CAAK,EAChC,CAAA,CACD,GACe,WACTE,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,cAAc,CAC/D,CACF,EAEaM,EAAkB,MAAOH,EAAQI,IAAmB,CAC3D,GAAA,CACI,MAAAT,EAAQC,EAAQ,IAAI,WAAW,EACrC,GAAI,CAACD,EACG,MAAA,IAAI,MAAM,+BAA+B,EAcjD,OAZiB,MAAMJ,EAAkB,IACvC,qBACA,CACE,OAAAS,EACA,eAAAI,CACF,EACA,CACE,QAAS,CACP,cAAe,UAAUT,CAAK,EAChC,CACF,CAAA,GAEc,WACTE,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,SAAS,KAAK,SAAW,cAAc,CAC/D,CACF"}