import{c as ot,j as e,R as Le,J as w,r as g,z as dt,A as ut,V as mt,y as xt,L as ht,aa as ft,ab as pt,ac as vt,u as jt}from"./index-CZHDJBCk.js";import{u as gt}from"./index.esm-BBIM_QSt.js";import{L as bt}from"./link-8B-EtKzV.js";import{a as $,b as G,c as H,d as J,e as W,M as St,F as yt}from"./markdown-form-field-DZLEdgmc.js";import{I as V}from"./index-CsZvwwPz.js";import{S as ze,a as we,b as De,c as ke,d as te}from"./select-DvMDIVW3.js";import{S as Me,A as Nt,b as Ct,c as zt,d as wt,e as Dt,f as kt,g as Et,h as Tt}from"./alert-dialog-B_LYbhSY.js";import{P as f}from"./index-CpqmcsmY.js";import{d as qe,T as Ze,R as ye,a as le,F as Pe,b as Ne,C as Ke,c as Qe,P as Ft,e as Ot,r as At}from"./TestResultLoading-DItjt0Yp.js";import{T as fe,a as pe,b as oe,c as Ie}from"./tabs-B72ujN-I.js";import{D as et,a as tt,b as st,d as Fe}from"./dropdown-menu-D8phL3t5.js";import{C as nt}from"./code-nd611ZK3.js";import{P as at}from"./plus-CFaGAQ22.js";import{C as Rt}from"./check-VtdpXJOg.js";import{D as Be,a as Ve,b as Ue,c as _e,g as $e,d as Ge}from"./dialog-BCM82MyM.js";import{T as Lt}from"./code-section-B1VjyLkU.js";import{u as Mt}from"./use-toast-DxaFKq84.js";import{X as Pt}from"./x-Br18mQUL.js";import{R as It}from"./rotate-ccw-C2nTj3Mc.js";import{A as rt}from"./arrow-left-Dk0JVUuI.js";import{C as Bt}from"./chevron-right-B2BfPifc.js";import"./label-990KbfKz.js";import"./index-DQUYlbEB.js";import"./index-Dg4EHzo4.js";import"./index-Btbx0t0H.js";import"./axios-OWqOmaEp.js";import"./axios-CCb-kr4I.js";import"./index-Fh3QMK6n.js";import"./textarea-BN4cbcHb.js";import"./badge-DPmApw2E.js";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ot("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);function Ut({form:n}){return e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("h1",{className:"mb-6 text-3xl font-semibold",children:"Create Code Problem - Basic Info"}),e.jsx("div",{className:"mb-6",children:e.jsx($,{control:n.control,name:"title",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Title"}),e.jsx(J,{children:e.jsx(V,{placeholder:"Enter problem title",...t})}),e.jsx(W,{})]})})}),e.jsx(St,{control:n.control,name:"description",label:"Description",placeholder:"Enter problem description"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsx($,{control:n.control,name:"language",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Code Language"}),e.jsxs(ze,{onValueChange:t.onChange,defaultValue:t.value||"Java",children:[e.jsx(J,{children:e.jsx(we,{children:e.jsx(De,{placeholder:"Select a language"})})}),e.jsxs(ke,{children:[e.jsx(te,{value:"Java",children:"Java"}),e.jsx(te,{value:"csharp",children:"C#"}),e.jsx(te,{value:"python",children:"Python"}),e.jsx(te,{value:"c",children:"C"}),e.jsx(te,{value:"cpp",children:"C++"})]})]}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"problemType",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Problem Type"}),e.jsxs(ze,{onValueChange:t.onChange,defaultValue:t.value||"Practice",children:[e.jsx(J,{children:e.jsx(we,{children:e.jsx(De,{placeholder:"Select problem type"})})}),e.jsxs(ke,{children:[e.jsx(te,{value:"Practice",children:"Practice"}),e.jsx(te,{value:"Challenge",children:"Challenge"})]})]}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"difficultyType",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Difficulty Type"}),e.jsxs(ze,{onValueChange:t.onChange,defaultValue:t.value||"Medium",children:[e.jsx(J,{children:e.jsx(we,{children:e.jsx(De,{placeholder:"Select difficulty type"})})}),e.jsxs(ke,{children:[e.jsx(te,{value:"Easy",children:"Easy"}),e.jsx(te,{value:"Medium",children:"Medium"}),e.jsx(te,{value:"Hard",children:"Hard"})]})]}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"cpuTimeLimit",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"CPU Time Limit"}),e.jsx(J,{children:e.jsx(V,{min:.1,max:20,type:"number",step:"0.1",placeholder:"Enter CPU Time Limit",...t,value:t.value||2})}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"cpuExtraTime",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"CPU Extra Time"}),e.jsx(J,{children:e.jsx(V,{min:0,max:5,type:"number",step:"0.1",placeholder:"Enter CPU Extra Time",...t,value:t.value||2.5})}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"memoryLimit",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Memory Limit (MB)"}),e.jsx(J,{children:e.jsx(V,{min:50,max:500,type:"number",step:"1",placeholder:"Enter Memory Limit",...t,value:t.value||250})}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"stackLimit",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Stack Limit (MB)"}),e.jsx(J,{children:e.jsx(V,{min:30,max:125,type:"number",step:"1",placeholder:"Enter Stack Limit",...t,value:t.value||64})}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"maxThread",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Max Thread"}),e.jsx(J,{children:e.jsx(V,{min:20,max:120,type:"number",step:"0.1",placeholder:"Enter Max Thread",...t,value:t.value||70})}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"maxFileSize",render:({field:t})=>e.jsxs(G,{children:[e.jsx(H,{className:"text-base font-semibold",children:"Max File Size (MB)"}),e.jsx(J,{children:e.jsx(V,{min:1,max:20,type:"number",step:"1",placeholder:"Enter Max File Size",...t,value:t.value||10})}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"enableNetwork",render:({field:t})=>e.jsxs(G,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"text-base font-semibold",children:"Enable Network"}),e.jsx(J,{children:e.jsx(Me,{className:"ml-2",checked:t.value,defaultChecked:!1,onCheckedChange:t.onChange})})]}),e.jsx(W,{})]})}),e.jsx($,{control:n.control,name:"isActive",render:({field:t})=>e.jsxs(G,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"text-base font-semibold",children:"Is Active"}),e.jsx(J,{children:e.jsx(Me,{className:"ml-2",checked:t.value,defaultChecked:!0,onCheckedChange:t.onChange})})]}),e.jsx(W,{})]})})]})]})}var X=typeof window<"u"?window:null,Oe=X===null,ve=Oe?void 0:X.document,Z="addEventListener",K="removeEventListener",Ee="getBoundingClientRect",he="_a",Q="_b",re="_c",be="horizontal",ee=function(){return!1},_t=Oe?"calc":["","-webkit-","-moz-","-o-"].filter(function(n){var t=ve.createElement("div");return t.style.cssText="width:"+n+"calc(9px)",!!t.style.length}).shift()+"calc",lt=function(n){return typeof n=="string"||n instanceof String},He=function(n){if(lt(n)){var t=ve.querySelector(n);if(!t)throw new Error("Selector "+n+" did not match a DOM element");return t}return n},R=function(n,t,l){var i=n[t];return i!==void 0?i:l},Se=function(n,t,l,i){if(t){if(i==="end")return 0;if(i==="center")return n/2}else if(l){if(i==="start")return 0;if(i==="center")return n/2}return n},$t=function(n,t){var l=ve.createElement("div");return l.className="gutter gutter-"+t,l},Gt=function(n,t,l){var i={};return lt(t)?i[n]=t:i[n]=_t+"("+t+"% - "+l+"px)",i},Ht=function(n,t){var l;return l={},l[n]=t+"px",l},Je=function(n,t){if(t===void 0&&(t={}),Oe)return{};var l=n,i,u,d,p,x,o;Array.from&&(l=Array.from(l));var v=He(l[0]),b=v.parentNode,h=getComputedStyle?getComputedStyle(b):null,A=h?h.flexDirection:null,S=R(t,"sizes")||l.map(function(){return 100/l.length}),M=R(t,"minSize",100),y=Array.isArray(M)?M:l.map(function(){return M}),P=R(t,"maxSize",1/0),D=Array.isArray(P)?P:l.map(function(){return P}),E=R(t,"expandToMin",!1),N=R(t,"gutterSize",10),Y=R(t,"gutterAlign","center"),se=R(t,"snapOffset",30),U=Array.isArray(se)?se:l.map(function(){return se}),ne=R(t,"dragInterval",1),L=R(t,"direction",be),q=R(t,"cursor",L===be?"col-resize":"row-resize"),de=R(t,"gutter",$t),me=R(t,"elementStyle",Gt),xe=R(t,"gutterStyle",Ht);L===be?(i="width",u="clientX",d="left",p="right",x="clientWidth"):L==="vertical"&&(i="height",u="clientY",d="top",p="bottom",x="clientHeight");function k(r,s,a,c){var O=me(i,s,a,c);Object.keys(O).forEach(function(z){r.style[z]=O[z]})}function ue(r,s,a){var c=xe(i,s,a);Object.keys(c).forEach(function(O){r.style[O]=c[O]})}function ae(){return o.map(function(r){return r.size})}function T(r){return"touches"in r?r.touches[0][u]:r[u]}function I(r){var s=o[this.a],a=o[this.b],c=s.size+a.size;s.size=r/this.size*c,a.size=c-r/this.size*c,k(s.element,s.size,this[Q],s.i),k(a.element,a.size,this[re],a.i)}function m(r){var s,a=o[this.a],c=o[this.b];this.dragging&&(s=T(r)-this.start+(this[Q]-this.dragOffset),ne>1&&(s=Math.round(s/ne)*ne),s<=a.minSize+a.snapOffset+this[Q]?s=a.minSize+this[Q]:s>=this.size-(c.minSize+c.snapOffset+this[re])&&(s=this.size-(c.minSize+this[re])),s>=a.maxSize-a.snapOffset+this[Q]?s=a.maxSize+this[Q]:s<=this.size-(c.maxSize-c.snapOffset+this[re])&&(s=this.size-(c.maxSize+this[re])),I.call(this,s),R(t,"onDrag",ee)(ae()))}function j(){var r=o[this.a].element,s=o[this.b].element,a=r[Ee](),c=s[Ee]();this.size=a[i]+c[i]+this[Q]+this[re],this.start=a[d],this.end=a[p]}function C(r){if(!getComputedStyle)return null;var s=getComputedStyle(r);if(!s)return null;var a=r[x];return a===0?null:(L===be?a-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight):a-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),a)}function F(r){var s=C(b);if(s===null||y.reduce(function(z,B){return z+B},0)>s)return r;var a=0,c=[],O=r.map(function(z,B){var ce=s*z/100,je=Se(N,B===0,B===r.length-1,Y),ge=y[B]+je;return ce<ge?(a+=ge-ce,c.push(0),ge):(c.push(ce-ge),ce)});return a===0?r:O.map(function(z,B){var ce=z;if(a>0&&c[B]-a>0){var je=Math.min(a,c[B]-a);a-=je,ce=z-je}return ce/s*100})}function _(){var r=this,s=o[r.a].element,a=o[r.b].element;r.dragging&&R(t,"onDragEnd",ee)(ae()),r.dragging=!1,X[K]("mouseup",r.stop),X[K]("touchend",r.stop),X[K]("touchcancel",r.stop),X[K]("mousemove",r.move),X[K]("touchmove",r.move),r.stop=null,r.move=null,s[K]("selectstart",ee),s[K]("dragstart",ee),a[K]("selectstart",ee),a[K]("dragstart",ee),s.style.userSelect="",s.style.webkitUserSelect="",s.style.MozUserSelect="",s.style.pointerEvents="",a.style.userSelect="",a.style.webkitUserSelect="",a.style.MozUserSelect="",a.style.pointerEvents="",r.gutter.style.cursor="",r.parent.style.cursor="",ve.body.style.cursor=""}function Ce(r){if(!("button"in r&&r.button!==0)){var s=this,a=o[s.a].element,c=o[s.b].element;s.dragging||R(t,"onDragStart",ee)(ae()),r.preventDefault(),s.dragging=!0,s.move=m.bind(s),s.stop=_.bind(s),X[Z]("mouseup",s.stop),X[Z]("touchend",s.stop),X[Z]("touchcancel",s.stop),X[Z]("mousemove",s.move),X[Z]("touchmove",s.move),a[Z]("selectstart",ee),a[Z]("dragstart",ee),c[Z]("selectstart",ee),c[Z]("dragstart",ee),a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.MozUserSelect="none",a.style.pointerEvents="none",c.style.userSelect="none",c.style.webkitUserSelect="none",c.style.MozUserSelect="none",c.style.pointerEvents="none",s.gutter.style.cursor=q,s.parent.style.cursor=q,ve.body.style.cursor=q,j.call(s),s.dragOffset=T(r)-s.end}}S=F(S);var ie=[];o=l.map(function(r,s){var a={element:He(r),size:S[s],minSize:y[s],maxSize:D[s],snapOffset:U[s],i:s},c;if(s>0&&(c={a:s-1,b:s,dragging:!1,direction:L,parent:b},c[Q]=Se(N,s-1===0,!1,Y),c[re]=Se(N,!1,s===l.length-1,Y),A==="row-reverse"||A==="column-reverse")){var O=c.a;c.a=c.b,c.b=O}if(s>0){var z=de(s,L,a.element);ue(z,N,s),c[he]=Ce.bind(c),z[Z]("mousedown",c[he]),z[Z]("touchstart",c[he]),b.insertBefore(z,a.element),c.gutter=z}return k(a.element,a.size,Se(N,s===0,s===l.length-1,Y),s),s>0&&ie.push(c),a});function Re(r){var s=r.i===ie.length,a=s?ie[r.i-1]:ie[r.i];j.call(a);var c=s?a.size-r.minSize-a[re]:r.minSize+a[Q];I.call(a,c)}o.forEach(function(r){var s=r.element[Ee]()[i];s<r.minSize&&(E?Re(r):r.minSize=s)});function it(r){var s=F(r);s.forEach(function(a,c){if(c>0){var O=ie[c-1],z=o[O.a],B=o[O.b];z.size=s[c-1],B.size=a,k(z.element,z.size,O[Q],z.i),k(B.element,B.size,O[re],B.i)}})}function ct(r,s){ie.forEach(function(a){if(s!==!0?a.parent.removeChild(a.gutter):(a.gutter[K]("mousedown",a[he]),a.gutter[K]("touchstart",a[he])),r!==!0){var c=me(i,a.a.size,a[Q]);Object.keys(c).forEach(function(O){o[a.a].element.style[O]="",o[a.b].element.style[O]=""})}})}return{setSizes:it,getSizes:ae,collapse:function(s){Re(o[s])},destroy:ct,parent:b,pairs:ie}};function Te(n,t){var l={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)===-1&&(l[i]=n[i]);return l}var Ae=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var i=this.props;i.children;var u=i.gutter,d=Te(i,["children","gutter"]),p=d;p.gutter=function(x,o){var v;return u?v=u(x,o):(v=document.createElement("div"),v.className="gutter gutter-"+o),v.__isSplitGutter=!0,v},this.split=Je(this.parent.children,p)},t.prototype.componentDidUpdate=function(i){var u=this,d=this.props;d.children;var p=d.minSize,x=d.sizes,o=d.collapsed,v=Te(d,["children","minSize","sizes","collapsed"]),b=v,h=i.minSize,A=i.sizes,S=i.collapsed,M=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],y=M.map(function(E){return u.props[E]!==i[E]}).reduce(function(E,N){return E||N},!1);if(Array.isArray(p)&&Array.isArray(h)){var P=!1;p.forEach(function(E,N){P=P||E!==h[N]}),y=y||P}else Array.isArray(p)||Array.isArray(h)?y=!0:y=y||p!==h;if(y)b.minSize=p,b.sizes=x||this.split.getSizes(),this.split.destroy(!0,!0),b.gutter=function(E,N,Y){return Y.previousSibling},this.split=Je(Array.from(this.parent.children).filter(function(E){return!E.__isSplitGutter}),b);else if(x){var D=!1;x.forEach(function(E,N){D=D||E!==A[N]}),D&&this.split.setSizes(this.props.sizes)}Number.isInteger(o)&&(o!==S||y)&&this.split.collapse(o)},t.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},t.prototype.render=function(){var i=this,u=this.props;u.sizes,u.minSize,u.maxSize,u.expandToMin,u.gutterSize,u.gutterAlign,u.snapOffset,u.dragInterval,u.direction,u.cursor,u.gutter,u.elementStyle,u.gutterStyle,u.onDrag,u.onDragStart,u.onDragEnd,u.collapsed;var d=u.children,p=Te(u,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),x=p;return Le.createElement("div",Object.assign({},{ref:function(o){i.parent=o}},x),d)},t}(Le.Component);Ae.propTypes={sizes:f.arrayOf(f.number),minSize:f.oneOfType([f.number,f.arrayOf(f.number)]),maxSize:f.oneOfType([f.number,f.arrayOf(f.number)]),expandToMin:f.bool,gutterSize:f.number,gutterAlign:f.string,snapOffset:f.oneOfType([f.number,f.arrayOf(f.number)]),dragInterval:f.number,direction:f.string,cursor:f.string,gutter:f.func,elementStyle:f.func,gutterStyle:f.func,onDrag:f.func,onDragStart:f.func,onDragEnd:f.func,collapsed:f.number,children:f.arrayOf(f.element)};Ae.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};function We({title:n,files:t,activeFile:l,setActiveFile:i,setIsNewFileDialogOpen:u,setFileToManage:d,setIsRenameDialogOpen:p,setIsDeleteDialogOpen:x,handleSolutionCodeChange:o,handleAddFile:v}){var b;return e.jsxs("div",{className:"flex flex-col w-full h-full",children:[e.jsx("div",{className:"flex items-center px-4 py-2 border-b bg-background shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("h2",{className:"text-sm font-medium",children:n})]})}),e.jsxs("div",{className:"flex items-center px-4 py-2 bg-muted",children:[e.jsx(fe,{value:l,onValueChange:i,className:"flex-1",children:e.jsx(pe,{className:"p-0 bg-transparent h-7",children:t.map(h=>e.jsxs(oe,{value:h.name,className:"relative data-[state=active]:bg-background data-[state=active]:text-foreground px-3 h-7 text-xs",children:[h.name,e.jsxs(et,{children:[e.jsx(tt,{asChild:!0,children:e.jsx(Vt,{className:"w-4 h-4 ml-2"})}),e.jsxs(st,{align:"end",children:[e.jsx(Fe,{onSelect:A=>{A.preventDefault(),d(h),p(!0)},children:"Rename"}),e.jsx(Fe,{onSelect:A=>{A.preventDefault(),d(h),x(!0)},children:"Delete"})]})]})]},h.name))})}),e.jsx(w,{variant:"ghost",size:"icon",className:"ml-2 h-7 w-7",onClick:()=>u(!0),children:e.jsx(at,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(qe,{className:"w-full h-full",defaultLanguage:"java",value:((b=t.find(h=>h.name===l))==null?void 0:b.content)||"",onChange:o,theme:"vs-dark",options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,lineNumbers:"on",lineNumbersMinChars:3,padding:{top:10,bottom:10}}})})]})}function Xe({testCode:n,setTestCode:t}){return e.jsxs("div",{className:"flex flex-col w-full h-full ",children:[e.jsx("div",{className:"flex items-center px-4 py-2 border-b bg-background shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("h2",{className:"text-sm font-medium",children:"Test"})]})}),e.jsx("div",{className:"flex items-center px-4 py-2 bg-muted",children:e.jsx(fe,{value:"test.java",className:"flex-1",children:e.jsx(pe,{className:"p-0 bg-transparent h-7",children:e.jsx(oe,{value:"test.java",className:"relative px-3 text-xs bg-background text-foreground h-7",children:"test.java"})})})}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(qe,{className:"w-full h-full",defaultLanguage:"java",value:n,onChange:l=>t(l||""),theme:"vs-dark",options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,lineNumbers:"on",lineNumbersMinChars:3,padding:{top:10,bottom:10}}})})]})}function Ye({activeTab:n,setActiveTab:t,testCases:l,activeTestCase:i,setActiveTestCase:u,testResult:d}){var p;return e.jsx("div",{className:"flex flex-col min-w-0 border-t bg-zinc-900 border-zinc-800 w-full",children:e.jsxs(fe,{value:n,onValueChange:t,className:"flex flex-col flex-1",children:[e.jsx("div",{className:"flex items-center px-2 py-1 border-b border-zinc-800",children:e.jsxs(pe,{className:"h-8 p-1 bg-zinc-800",children:[e.jsxs(oe,{value:"testcase",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground px-3 h-6 text-sm",children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"}),"Testcase"]}),e.jsx(oe,{value:"result",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground px-3 h-6 text-sm",children:"Test Result"})]})}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto mb-10",children:[n==="testcase"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:l.map(x=>e.jsx(w,{variant:i===x.id?"default":"outline",size:"sm",onClick:()=>u(x.id),className:"h-7",children:x.name},x.id))}),e.jsx("div",{className:"space-y-2",children:(p=l.find(x=>x.id===i))==null?void 0:p.inputs.map((x,o)=>e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-zinc-400",children:[x.name," ="]}),e.jsx("div",{className:"p-2 font-mono text-sm rounded bg-zinc-800",children:x.value})]},o))})]}),n==="result"&&d&&e.jsx("pre",{className:"font-mono text-sm whitespace-pre-wrap",children:d})]})]})})}function Jt({isNewFileDialogOpen:n,setIsNewFileDialogOpen:t,isRenameDialogOpen:l,setIsRenameDialogOpen:i,isDeleteDialogOpen:u,setIsDeleteDialogOpen:d,newFileName:p,setNewFileName:x,fileToManage:o,setFileToManage:v,handleAddFile:b,handleRenameFile:h,handleDeleteFile:A}){return e.jsxs(e.Fragment,{children:[e.jsx(Be,{open:n,onOpenChange:t,children:e.jsxs(Ve,{children:[e.jsxs(Ue,{children:[e.jsx(_e,{children:"New File"}),e.jsx($e,{children:"Enter a name for the new file"})]}),e.jsx(V,{value:p,onChange:S=>x(S.target.value),placeholder:"Enter file name"}),e.jsxs(Ge,{children:[e.jsx(w,{variant:"outline",onClick:()=>{x(""),t(!1)},children:"Cancel"}),e.jsx(w,{onClick:b,children:"Create"})]})]})}),e.jsx(Be,{open:l,onOpenChange:i,children:e.jsxs(Ve,{children:[e.jsxs(Ue,{children:[e.jsx(_e,{children:"Rename File"}),e.jsxs($e,{children:["Enter a new name for ",o==null?void 0:o.name]})]}),e.jsx(V,{value:p,onChange:S=>x(S.target.value),placeholder:"Enter new file name"}),e.jsxs(Ge,{children:[e.jsx(w,{variant:"outline",onClick:()=>{x(""),v(null),i(!1)},children:"Cancel"}),e.jsx(w,{onClick:h,children:"Rename"})]})]})}),e.jsx(Nt,{open:u,onOpenChange:d,children:e.jsxs(Ct,{children:[e.jsxs(zt,{children:[e.jsx(wt,{children:"Delete File"}),e.jsxs(Dt,{children:["Are you sure you want to delete ",o==null?void 0:o.name,"? This action cannot be undone."]})]}),e.jsxs(kt,{children:[e.jsx(Et,{onClick:()=>{v(null),d(!1)},children:"Cancel"}),e.jsx(Tt,{onClick:A,children:"Delete"})]})]})})]})}const Wt=({testCases:n,selectedIndex:t,onSelect:l,failedTestCases:i=[]})=>e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:n.map((u,d)=>e.jsxs(w,{type:"button",variant:t===d?"default":"outline",className:`${i.includes(d)?"bg-red-100 hover:bg-red-200 text-red-700":"bg-emerald-100 hover:bg-emerald-200 text-emerald-700"} ${t===d?"border-2 border-emerald-500":""}`,onClick:()=>l(d),children:["Case ",d+1]},d))}),Xt=({result:n})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Inputs:"}),Object.entries(n.inputs).map(([t,l])=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t," ="]}),e.jsx(V,{className:"font-mono bg-muted",value:l,readOnly:!0})]},t))]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Expected Output ="}),e.jsx(V,{className:"font-mono bg-muted",value:n.expected,readOnly:!0})]}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Actual Output ="}),e.jsx(V,{className:"font-mono bg-muted",value:n.output,readOnly:!0})]}),e.jsxs("div",{className:`flex items-center gap-2 ${n.isPass?"text-green-600":"text-red-600"}`,children:[n.isPass?e.jsx(Qe,{className:"w-5 h-5"}):e.jsx(Ke,{className:"w-5 h-5"}),e.jsx("span",{children:n.isPass?"Passed":"Failed"})]})]})]}),Yt=({solutions:n,selectedIndex:t,onSelect:l,failedSolutions:i=[]})=>e.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-4",children:n.map((u,d)=>e.jsxs(w,{type:"button",variant:t===d?"default":"outline",className:`${i.includes(d)?"bg-red-100 hover:bg-red-200 text-red-700":"bg-blue-100 hover:bg-blue-200 text-blue-700"} ${t===d?"border-2 border-blue-500":""}`,onClick:()=>l(d),children:["Solution ",d+1]},d))}),qt=({result:n})=>e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Status: "}),e.jsx("span",{className:n.status.id===3?"text-green-600":"text-red-600",children:n.status.description})]}),n.compileErrors&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-red-600",children:"Compile Errors: "}),e.jsx("pre",{className:"bg-red-100 p-2 rounded text-sm overflow-x-auto",children:n.compileErrors})]}),n.runTimeErrors&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-red-600",children:"Runtime Errors: "}),e.jsx("pre",{className:"bg-red-100 p-2 rounded text-sm overflow-x-auto",children:n.runTimeErrors})]})]}),Zt=({form:n})=>{var I;const[t,l]=g.useState([{name:"Solution.java",content:""}]),[i,u]=g.useState("Solution.java"),[d,p]=g.useState(""),[x,o]=g.useState("testcase"),[v,b]=g.useState(0),[h,A]=g.useState(null),[S,M]=g.useState([]),[y,P]=g.useState(0),[D,E]=g.useState(null),[N,Y]=g.useState(!1),{toast:se}=Mt(),{setValue:U}=n;console.log(S);const ne=()=>{const j=`Solution${Math.max(...t.map(C=>{const F=C.name.match(/Solution(\d+)\.java/);return F?parseInt(F[1]):0}))+1}.java`;l(C=>[...C,{name:j,content:"// Your Java code here"}]),u(j)},L=m=>{if(t.length>1){const j=t.findIndex(F=>F.name===m),C=t.filter(F=>F.name!==m);for(let F=j;F<C.length;F++){const _=C[F].name.match(/Solution(\d+)\.java/);if(_){const Ce=parseInt(_[1])-1;C[F].name=`Solution${Ce}.java`}}l(C),i===m&&u(C[j]?C[j].name:C[C.length-1].name)}},q=m=>{l(j=>j.map(C=>C.name===i?{...C,content:m}:C))},de=m=>{p(m)},me=async()=>{Y(!0),o("result");const j={batchCodeExecuteDto:{languageCode:"Java",testCases:pt(S).testCases,solutionCodes:t.map(_=>_.content),testCode:d}};console.log(j);const C=vt(S);U("testCases",C.testCases);const F=[{fileName:"Main.java",template:"",testCode:d,description:"",languageCode:"Java",solutions:t.map(_=>({fileName:"Main.java",solutionCode:_.content,description:"",languageCode:"Java",priority:!0}))}];console.log(F),U("createTestScriptDto",F);try{const _=await At(j);se({title:"Runcode successfully",description:"Runcode successfully"}),E(_.codeExecuteDtos)}catch(_){console.error("Error creating course:",_)}finally{Y(!1)}},xe=m=>Object.keys(m).filter(j=>j!=="expectedOutput"),k=D&&D[y],ue=k&&k.testResults[v],ae=D?D.map((m,j)=>m.status.id!==3?j:-1).filter(m=>m!==-1):[],T=k&&k.testResults?k.testResults.map((m,j)=>m.isPass?-1:j).filter(m=>m!==-1):[];return e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Lt,{testCases:S,setTestCases:M}),e.jsx("div",{className:"flex justify-center",children:e.jsx(dt,{children:e.jsx(ut,{className:"text-center text-2xl font-semibold",children:"Create Code Problem"})})}),e.jsx("div",{className:"h-[800px] rounded-xl border z-0",children:e.jsxs(ye,{direction:"vertical",children:[e.jsx(le,{defaultSize:70,children:e.jsxs(ye,{direction:"horizontal",children:[e.jsx(le,{defaultSize:50,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-background shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"w-5 h-5"}),e.jsx("h2",{className:"text-sm font-medium",children:"Solution"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(et,{children:[e.jsx(tt,{asChild:!0,children:e.jsxs(w,{variant:"outline",className:"w-[200px] justify-between",children:[i,e.jsx(mt,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(st,{className:"w-[200px]",children:t.map(m=>e.jsxs(Fe,{onSelect:()=>u(m.name),className:"justify-between",children:[m.name,t.length>1&&e.jsx(w,{type:"button",variant:"ghost",size:"icon",className:"h-4 w-4 p-0",onClick:j=>{j.stopPropagation(),L(m.name)},children:e.jsx(Pt,{className:"h-3 w-3"})})]},m.name))})]}),e.jsx(w,{type:"button",variant:"ghost",size:"icon",onClick:ne,children:e.jsx(at,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(Pe,{height:"100%",defaultLanguage:"java",theme:"vs-dark",value:((I=t.find(m=>m.name===i))==null?void 0:I.content)||"",onChange:q,options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,automaticLayout:!0,lineNumbers:"on",lineNumbersMinChars:3,padding:{top:10,bottom:10}}})})]})}),e.jsx(Ne,{}),e.jsx(le,{defaultSize:50,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-background shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("h2",{className:"text-sm font-medium",children:"Test"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(fe,{value:"test.java",className:"flex-1",children:e.jsx(pe,{className:"p-0 bg-transparent h-7",children:e.jsx(oe,{value:"test.java",className:"relative px-3 text-xs bg-background text-foreground h-7",children:"Main.java"})})})})]}),e.jsx("div",{className:"flex-1 w-full min-h-0",children:e.jsx(Pe,{height:"100%",defaultLanguage:"java",theme:"vs-dark",value:d,onChange:de,options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,automaticLayout:!0,lineNumbers:"on",lineNumbersMinChars:3,padding:{top:10,bottom:10}}})})]})})]})}),e.jsx(Ne,{}),e.jsx(le,{defaultSize:30,children:e.jsx(xt,{className:"flex h-full flex-col rounded-none",children:e.jsxs(fe,{value:x,onValueChange:o,className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-2 bg-gray-400",children:[e.jsxs(pe,{children:[e.jsx(oe,{value:"testcase",children:"Testcase"}),e.jsx(oe,{value:"result",children:"Test Result"})]}),h===!1&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"text-red-700 w-8 h-8"}),e.jsx("p",{className:"text-red-700 font-medium",children:"Failed, please check Test Result"})]}),h===!0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"text-green-700 w-8 h-8"}),e.jsx("p",{className:"text-green-700 font-medium",children:"Success, you can move to the next step."})]}),e.jsx(w,{type:"button",onClick:me,disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Running..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Run"]})})]}),e.jsxs(ft,{className:"flex-1",children:[e.jsx(Ie,{value:"testcase",className:"p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:S.map((m,j)=>e.jsxs(w,{type:"button",variant:v===j?"default":"outline",className:"bg-emerald-100 hover:bg-emerald-200 text-emerald-700",onClick:()=>b(j),children:["Case ",j+1]},j))}),S[v]&&e.jsx("div",{className:"space-y-4",children:xe(S[v]).map(m=>e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[m," ="]}),e.jsx(V,{className:"font-mono bg-muted",value:S[v][m],readOnly:!0})]},m))})]})}),e.jsx(Ie,{value:"result",className:"p-4",children:D?N?e.jsx(Ot,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(Yt,{solutions:D,selectedIndex:y,onSelect:P,failedSolutions:ae}),k&&k.testResults&&k.testResults.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Wt,{testCases:k.testResults,selectedIndex:v,onSelect:b,failedTestCases:T}),ue&&e.jsx(Xt,{result:ue})]}),e.jsx(qt,{result:k})]}):e.jsx("div",{className:"text-center text-lg font-medium text-gray-500",children:"Please run Code First"})})]})]})})})]})})]})};g.memo(Zt);function Kt({form:n,solutionCode:t,setSolutionCode:l,testCode:i,setTestCode:u,testResult:d,runCode:p,onSubmit:x}){const[o,v]=g.useState([{name:"Solution.java",content:t}]),[b,h]=g.useState("Solution.java"),[A,S]=g.useState("case-1"),[M,y]=g.useState("testcase"),[P,D]=g.useState(!1),[E,N]=g.useState(!1),[Y,se]=g.useState(!1),[U,ne]=g.useState(""),[L,q]=g.useState(null);g.useState(!1);const[de,me]=g.useState([{id:"case-1",name:"Case 1",inputs:[{name:"nums",value:"[2,7,11,15]"},{name:"target",value:"9"}]}]),xe=()=>{U.trim()&&(v(T=>[...T,{name:U,content:""}]),h(U),ne("Solution.java"),D(!1))},k=()=>{U.trim()&&L&&(v(T=>T.map(I=>I.name===L.name?{...I,name:U}:I)),h(U),ne(""),q(null))},ue=()=>{if(L&&o.length>1){const T=o.filter(I=>I.name!==L.name);v(T),h(T[0].name),q(null)}},ae=T=>{v(I=>I.map(m=>m.name===b?{...m,content:T||""}:m)),l(T||"")};return e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 p-2 border-b bg-background shrink-0",children:[e.jsxs(w,{onClick:p,variant:"outline",size:"sm",className:"transition-colors hover:bg-primary hover:text-primary-foreground",children:[e.jsx(It,{className:"w-4 h-4 mr-1"}),"Run Code"]}),e.jsx(w,{onClick:n.handleSubmit(x),variant:"outline",size:"sm",className:"transition-colors hover:bg-primary hover:text-primary-foreground",children:"Submit"})]}),e.jsxs("div",{className:"flex flex-col  flex-grow ",children:[e.jsx("div",{className:"flex-grow overflow-hidden min-h-[500px]",children:e.jsxs(Ae,{sizes:[50,50],maxSize:[1/0,1/0],gutterSize:4,className:"flex w-full h-full",direction:"horizontal",gutter:()=>{const T=document.createElement("div");return T.className="bg-zinc-800 hover:bg-zinc-600 transition-colors duration-150 ease-in-out w-[4px] cursor-col-resize",T},children:[e.jsx(We,{title:"Solution",files:o,activeFile:b,setActiveFile:h,setIsNewFileDialogOpen:D,setFileToManage:q,setIsRenameDialogOpen:N,setIsDeleteDialogOpen:se,handleSolutionCodeChange:ae}),e.jsx(Xe,{testCode:i,setTestCode:u})]})}),e.jsx("div",{className:"h-64 overflow-y-auto border-t border-zinc-800 mb-20",children:e.jsx(Ye,{activeTab:M,setActiveTab:y,testCases:de,activeTestCase:A,setActiveTestCase:S,testResult:d})})]}),e.jsxs(ye,{direction:"vertical",className:"min-h-[1000px] rounded-lg border h-full",children:[e.jsx(le,{defaultSize:60,children:e.jsxs(ye,{direction:"horizontal",children:[e.jsx(le,{defaultSize:50,children:e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(We,{title:"Solution",files:o,activeFile:b,setActiveFile:h,setIsNewFileDialogOpen:D,setFileToManage:q,setIsRenameDialogOpen:N,setIsDeleteDialogOpen:se,handleSolutionCodeChange:ae})})}),e.jsx(Ne,{}),e.jsx(le,{defaultSize:50,children:e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(Xe,{testCode:i,setTestCode:u})})})]})}),e.jsx(Ne,{}),e.jsx(le,{defaultSize:40,className:"bg-zinc-800",children:e.jsx("div",{children:e.jsx(Ye,{activeTab:M,setActiveTab:y,testCases:de,activeTestCase:A,setActiveTestCase:S,testResult:d})})})]}),e.jsx(Jt,{isNewFileDialogOpen:P,setIsNewFileDialogOpen:D,isRenameDialogOpen:E,setIsRenameDialogOpen:N,isDeleteDialogOpen:Y,setIsDeleteDialogOpen:se,newFileName:U,setNewFileName:ne,fileToManage:L,setFileToManage:q,handleAddFile:xe,handleRenameFile:k,handleDeleteFile:ue})]})}function Qt({currentStep:n,setCurrentStep:t,handleStepChange:l}){return e.jsxs("div",{className:"flex items-center justify-between bg-muted",children:[e.jsxs(w,{onClick:()=>l("previous"),disabled:n==="basic-info",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"})," Previous"]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(w,{variant:n==="basic-info"?"default":"outline",onClick:()=>t("basic-info"),children:"Basic Info"}),e.jsx(w,{variant:n==="author-solution"?"default":"outline",onClick:()=>t("author-solution"),children:"Author Solution"})]}),e.jsxs(w,{onClick:()=>l("next"),disabled:n==="author-solution",children:["Next ",e.jsx(Bt,{className:"w-4 h-4 ml-2"})]})]})}function Ts(){const n=jt(),[t,l]=g.useState("basic-info"),[i,u]=g.useState([{name:"",value:""}]),[d,p]=g.useState(""),[x,o]=g.useState(""),[v,b]=g.useState(""),h=gt({defaultValues:{title:"",description:"",language:"java"}}),A=y=>{if(y==="next"&&t==="basic-info"){h.trigger(["title","description"]);const{title:P,description:D}=h.getValues();if(!P.trim()||!D.trim())return;l("author-solution")}else y==="previous"&&t==="author-solution"&&l("basic-info")},S=()=>{b("Code execution result will be displayed here.")},M=y=>{!d.trim()||!x.trim()||(console.log("Problem submitted",{...y,variables:i,solutionCode:d,testCode:x}),n({to:"/curriculum"}))};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[e.jsx("div",{className:"p-1",children:e.jsx(bt,{to:"/curriculum",children:e.jsxs(w,{variant:"ghost",children:[e.jsx(rt,{className:"w-2 h-2 mr-1"})," Back to Curriculum"]})})}),e.jsx("div",{className:"flex-grow w-full p-1 overflow-y-auto",children:e.jsx(yt,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(M),className:"space-y-4",children:[t==="basic-info"&&e.jsx(Ut,{form:h,variables:i,setVariables:u}),t==="author-solution"&&e.jsx(Kt,{form:h,solutionCode:d,setSolutionCode:p,testCode:x,setTestCode:o,testResult:v,runCode:S,onSubmit:M})]})})}),e.jsx(Qt,{currentStep:t,setCurrentStep:l,handleStepChange:A})]})}export{Ts as default};
//# sourceMappingURL=CreateCodeProblem-3EFFfCj7.js.map
