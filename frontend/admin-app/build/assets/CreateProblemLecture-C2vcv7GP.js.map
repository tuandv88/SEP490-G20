{"version":3,"file":"CreateProblemLecture-C2vcv7GP.js","sources":["../../src/pages/Problem/ProblemLecture/Create/Header.jsx","../../src/pages/Problem/ProblemLecture/Create/BottomTabs.jsx","../../src/pages/Problem/ProblemLecture/Create/basic-info-step.jsx","../../src/pages/Problem/ProblemLecture/Create/CodeEditor.jsx","../../src/pages/Problem/ProblemLecture/Create/Template.jsx","../../src/pages/Problem/ProblemLecture/Create/FormTabs.jsx","../../src/pages/Problem/ProblemLecture/Create/CreateProblemLecture.jsx"],"sourcesContent":["import { useNavigate } from \"@tanstack/react-router\"\r\nimport { ArrowLeft } from 'lucide-react';\r\n\r\nexport default function Header({ courseId }) {\r\n  const navigate = useNavigate()\r\n  return (\r\n    <header className=\"sticky top-0 left-0 right-0 bg-white border-b border-gray-200 z-1\">\r\n      <div className=\"max-w-4xl mx-auto px-4 h-14 flex items-center justify-between\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button className=\"text-black flex items-center hover:text-purple-700\" onClick={() => navigate({ to: `/edit-curriculum-course/${courseId}` })}>\r\n            <ArrowLeft className=\"h-5 w-5 mr-2\" />\r\n            <span>Back to Curriculum</span>\r\n          </button>\r\n        </div>       \r\n      </div>\r\n    </header>\r\n  );\r\n}","import { FileText, Code, BookOpen, ArrowLeft, ArrowRight, Loader2 } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { useState } from 'react'\r\nimport { ControlledAlertDialog } from '@/components/alert/ControlledAlertDialog'\r\n\r\nconst tabs = [\r\n  { id: 'basic', label: 'Basic Info', icon: FileText },\r\n  { id: 'code', label: 'Code', icon: Code },\r\n  { id: 'description', label: 'Template', icon: BookOpen }\r\n]\r\n\r\nexport default function BottomTabs({ activeTab, setActiveTab, isSaveTemplate, isRunSuccess, isLoadingSubmit }) {\r\n  const currentTabIndex = tabs.findIndex((tab) => tab.id === activeTab)\r\n  const isLastTab = currentTabIndex === tabs.length - 1\r\n  const isFirstTab = currentTabIndex === 0\r\n\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n\r\n  const openDialog = () => setIsDialogOpen(true)\r\n  const closeDialog = () => setIsDialogOpen(false)\r\n  const handleConfirm = () => {  \r\n    closeDialog()\r\n  }\r\n\r\n\r\n  const handlePrevious = () => {\r\n    if (!isFirstTab) {\r\n      setActiveTab(tabs[currentTabIndex - 1].id)\r\n    }\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (!isLastTab) {\r\n      setActiveTab(tabs[currentTabIndex + 1].id)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='sticky bottom-0 left-0 right-0 bg-white border-t border-gray-200'>\r\n      <div className='max-w-4xl mx-auto px-4'>\r\n        <div className='flex justify-between items-center h-16'>\r\n          <Button\r\n            type='button'\r\n            variant='ghost'\r\n            onClick={handlePrevious}\r\n            disabled={isFirstTab}\r\n            className='flex items-center'\r\n          >\r\n            <ArrowLeft className='h-4 w-4 mr-2' />\r\n            Previous\r\n          </Button>\r\n\r\n          <div className='flex justify-center space-x-4'>\r\n            {tabs.map((tab) => {\r\n              const Icon = tab.icon\r\n              return (\r\n                <button\r\n                  type='button'\r\n                  \r\n                  key={tab.id}\r\n              \r\n                  className={`\r\n          flex flex-row items-center justify-center px-4 relative\r\n          ${activeTab === tab.id ? 'text-purple-600' : 'text-gray-600 hover:text-gray-900'}\r\n        `}\r\n                >\r\n                  <Icon className='h-5 w-5 mr-2' />\r\n                  <span className='text-xs'>{tab.label}</span>                 \r\n                </button>\r\n              )\r\n            })}\r\n          </div>\r\n\r\n          {isLastTab && (\r\n            <>\r\n              {isLoadingSubmit ? (\r\n                <>\r\n                  <Button type='button' disabled={isLoadingSubmit}>\r\n                    <Loader2 className='mr-2 h-4 w-4 animate-spin' />\r\n                    Submitting...\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <Button\r\n                  disabled={isSaveTemplate === false}\r\n                  type='submit'\r\n                  variant='default'\r\n                  className='flex items-center'\r\n                >\r\n                  Submit\r\n                </Button>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {!isLastTab && (\r\n            <Button type='button' variant='ghost' onClick={isRunSuccess === false && activeTab === 'code' ? openDialog : handleNext} className='flex items-center'>\r\n            Next\r\n            <ArrowRight className='h-4 w-4 ml-2' />\r\n          </Button>\r\n          )}\r\n        </div>\r\n      </div>   \r\n      <ControlledAlertDialog\r\n        isOpen={isDialogOpen}\r\n        onClose={closeDialog}\r\n        onConfirm={handleConfirm}\r\n        title=\"Check the code again!\"\r\n        description=\"You need to run the code and test case successfully before coming to the next step.\"\r\n      />  \r\n    </div>\r\n  )\r\n}\r\n\r\n// ","import React from 'react'\r\nimport { FormField, FormItem, FormLabel, FormControl, FormMessage } from '@/components/ui/form'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport MarkdownFormField from '@/components/markdown-form-field'\r\nimport { Switch } from '@/components/ui/switch'\r\n\r\nexport default function BasicInfoStep({ form }) {\r\n  return (\r\n    <div className='max-w-5xl mx-auto'>\r\n      <h1 className='mb-6 text-3xl font-semibold'>Create Code Problem - Basic Info</h1>\r\n      <div className='mb-6'>\r\n        <FormField\r\n          control={form.control}\r\n          name='title'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Title</FormLabel>\r\n              <FormControl>\r\n                <Input placeholder='Enter problem title' {...field} />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n      </div>\r\n      <MarkdownFormField\r\n        control={form.control}\r\n        name='description'\r\n        label='Description'\r\n        placeholder='Enter problem description'\r\n      />\r\n\r\n      <div className='grid grid-cols-1 md:grid-cols-3 gap-4 mt-6'>\r\n        {/* Language Dropdown */}\r\n        <FormField\r\n          control={form.control}\r\n          name='language'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Code Language</FormLabel>\r\n              <Select onValueChange={field.onChange} defaultValue={field.value || 'Java'}>\r\n                <FormControl>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder='Select a language' />\r\n                  </SelectTrigger>\r\n                </FormControl>\r\n                <SelectContent>\r\n                  <SelectItem value='Java'>Java</SelectItem>\r\n                  <SelectItem value='csharp'>C#</SelectItem>\r\n                  <SelectItem value='python'>Python</SelectItem>\r\n                  <SelectItem value='c'>C</SelectItem>\r\n                  <SelectItem value='cpp'>C++</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        \r\n        {/* Difficulty Type Dropdown */}\r\n        <FormField\r\n          control={form.control}\r\n          name='difficultyType'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Difficulty Type</FormLabel>\r\n              <Select onValueChange={field.onChange} defaultValue={field.value || 'Medium'}>\r\n                <FormControl>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder='Select difficulty type' />\r\n                  </SelectTrigger>\r\n                </FormControl>\r\n                <SelectContent>\r\n                  <SelectItem value='Easy'>Easy</SelectItem>\r\n                  <SelectItem value='Medium'>Medium</SelectItem>\r\n                  <SelectItem value='Hard'>Hard</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* CPU Time Limit */}\r\n        <FormField\r\n          control={form.control}\r\n          name='cpuTimeLimit'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>CPU Time Limit</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  min={0.1}\r\n                  max={20}\r\n                  type='number'\r\n                  step='0.1'\r\n                  placeholder='Enter CPU Time Limit'\r\n                  {...field}\r\n                  value={field.value || 2}\r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* CPU Extra Time */}\r\n        <FormField\r\n          control={form.control}\r\n          name='cpuExtraTime'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>CPU Extra Time</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  min={0}\r\n                  max={5}\r\n                  type='number'\r\n                  step='0.1'\r\n                  placeholder='Enter CPU Extra Time'\r\n                  {...field}\r\n                  value={field.value || 2.5}\r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Memory Limit */}\r\n        <FormField\r\n          control={form.control}\r\n          name='memoryLimit'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Memory Limit (MB)</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  min={50}\r\n                  max={500}\r\n                  type='number'\r\n                  step='1'\r\n                  placeholder='Enter Memory Limit'\r\n                  {...field}\r\n                  value={field.value || 250}                 \r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Stack Limit */}\r\n        <FormField\r\n          control={form.control}\r\n          name='stackLimit'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Stack Limit (MB)</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  min={30}\r\n                  max={125}\r\n                  type='number'\r\n                  step='1'\r\n                  placeholder='Enter Stack Limit'\r\n                  {...field}\r\n                  value={field.value || 64}\r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Max Thread */}\r\n        <FormField\r\n          control={form.control}\r\n          name='maxThread'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Max Thread</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  min={20}\r\n                  max={120}\r\n                  type='number'\r\n                  step='0.1'\r\n                  placeholder='Enter Max Thread'\r\n                  {...field}\r\n                  value={field.value || 70}\r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Max File Size */}\r\n        <FormField\r\n          control={form.control}\r\n          name='maxFileSize'         \r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className='text-base font-semibold'>Max File Size (MB)</FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  min={1}\r\n                  max={20}\r\n                  type='number'\r\n                  step='1'\r\n                  placeholder='Enter Max File Size'\r\n                  {...field}\r\n                  value={field.value || 10}                  \r\n                />\r\n              </FormControl>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        <div></div>\r\n        \r\n        {/* Enable Network Toggle */}\r\n        <FormField\r\n          control={form.control}\r\n          name='enableNetwork'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <div className='flex items-center'>\r\n                <FormLabel className='text-base font-semibold'>Enable Network</FormLabel>\r\n                <FormControl>\r\n                  <Switch\r\n                    className='ml-2'\r\n                    checked={field.value}\r\n                    defaultChecked={false}\r\n                    onCheckedChange={field.onChange}\r\n                  />\r\n                </FormControl>\r\n              </div>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Is Active Toggle */}\r\n        <FormField\r\n          control={form.control}\r\n          name='isActive'\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <div className='flex items-center'>\r\n                <FormLabel className='text-base font-semibold'>Is Active</FormLabel>\r\n                <FormControl>\r\n                  <Switch\r\n                    className='ml-2'\r\n                    checked={field.value}\r\n                    defaultChecked={true}\r\n                    onCheckedChange={field.onChange}\r\n                  />\r\n                </FormControl>\r\n              </div>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  Code,\r\n  TestTube2,\r\n  Plus,\r\n  X,\r\n  Play,\r\n  ChevronDown,\r\n  CircleX,\r\n  CircleCheck,\r\n  XCircle,\r\n  CheckCircle2,\r\n  Loader2\r\n} from 'lucide-react'\r\nimport Editor from '@monaco-editor/react'\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { ResizableHandle, ResizablePanel, ResizablePanelGroup } from '@/components/ui/resizable'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Input } from '@/components/ui/input'\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu'\r\nimport TestCaseGenerator from '@/components/CreateCourse/CreateCodeProblem/code-section'\r\nimport { useToast } from '@/hooks/use-toast'\r\nimport { runCode } from '@/services/api/codeApi'\r\nimport { transformTestCases, transformTestScript } from '@/lib/utils'\r\nimport TestResultLoading from '@/components/loading/TestResultLoading'\r\nimport { ToastAction } from '@/components/ui/toast'\r\n\r\nconst TestCaseSelector = ({ testCases, selectedIndex, onSelect, failedTestCases = [] }) => (\r\n  <div className='flex items-center gap-2 flex-wrap'>\r\n    {testCases.map((_, index) => (\r\n      <Button\r\n        key={index}\r\n        type='button'\r\n        variant={selectedIndex === index ? 'default' : 'outline'}\r\n        className={`${\r\n          failedTestCases.includes(index)\r\n            ? 'bg-red-100 hover:bg-red-200 text-red-700'\r\n            : 'bg-emerald-100 hover:bg-emerald-200 text-emerald-700'\r\n        } ${selectedIndex === index ? 'border-2 border-emerald-500' : ''}`}\r\n        onClick={() => onSelect(index)}\r\n      >\r\n        Case {index + 1}\r\n      </Button>\r\n    ))}\r\n  </div>\r\n)\r\n\r\nconst TestCaseDisplay = ({ result }) => (\r\n  <div className='space-y-4'>\r\n    <div>\r\n      <div className='text-sm text-muted-foreground mb-2'>Inputs:</div>\r\n      {Object.entries(result.inputs).map(([key, value]) => (\r\n        <div key={key} className='mb-2'>\r\n          <div className='text-sm text-muted-foreground'>{key} =</div>\r\n          <Input className='font-mono bg-muted' value={value} readOnly />\r\n        </div>\r\n      ))}\r\n    </div>\r\n    <div>\r\n      <div className='text-sm text-muted-foreground mb-2'>Expected Output =</div>\r\n      <Input className='font-mono bg-muted' value={result.expected} readOnly />\r\n    </div>\r\n    {result && (\r\n      <>\r\n        <div>\r\n          <div className='text-sm text-muted-foreground mb-2'>Actual Output =</div>\r\n          <Input className='font-mono bg-muted' value={result.output} readOnly />\r\n        </div>\r\n        <div className={`flex items-center gap-2 ${result.isPass ? 'text-green-600' : 'text-red-600'}`}>\r\n          {result.isPass ? <CheckCircle2 className='w-5 h-5' /> : <XCircle className='w-5 h-5' />}\r\n          <span>{result.isPass ? 'Passed' : 'Failed'}</span>\r\n        </div>\r\n      </>\r\n    )}\r\n  </div>\r\n)\r\n\r\nconst SolutionSelector = ({ solutions, selectedIndex, onSelect, failedSolutions = [] }) => (\r\n  <div className='flex items-center gap-2 flex-wrap mb-4'>\r\n    {solutions.map((_, index) => (\r\n      <Button\r\n        key={index}\r\n        type='button'\r\n        variant={selectedIndex === index ? 'default' : 'outline'}\r\n        className={`${\r\n          failedSolutions.includes(index)\r\n            ? 'bg-red-100 hover:bg-red-200 text-red-700'\r\n            : 'bg-blue-100 hover:bg-blue-200 text-blue-700'\r\n        } ${selectedIndex === index ? 'border-2 border-blue-500' : ''}`}\r\n        onClick={() => onSelect(index)}\r\n      >\r\n        Solution {index + 1}\r\n      </Button>\r\n    ))}\r\n  </div>\r\n)\r\n\r\nconst SolutionResult = ({ result }) => (\r\n  <div className='space-y-4 mt-4'>\r\n    <div>\r\n      <div className='text-sm font-medium'>Status: </div>\r\n      <span className={result.status.id === 3 ? 'text-green-600' : 'text-red-600'}>{result.status.description}</span>\r\n    </div>\r\n    {result.compileErrors && (\r\n      <div>\r\n        <div className='text-sm font-medium text-red-600'>Compile Errors: </div>\r\n        <pre className='bg-red-100 p-2 rounded text-sm overflow-x-auto'>{result.compileErrors}</pre>\r\n      </div>\r\n    )}\r\n    {result.runTimeErrors && (\r\n      <div>\r\n        <div className='text-sm font-medium text-red-600'>Runtime Errors: </div>\r\n        <pre className='bg-red-100 p-2 rounded text-sm overflow-x-auto'>{result.runTimeErrors}</pre>\r\n      </div>\r\n    )}\r\n  </div>\r\n)\r\n\r\nconst CodeEditor = ({ form, setIsRunSuccess }) => {\r\n  const [files, setFiles] = React.useState([{ name: 'Solution.java', content: '' }])\r\n  const [activeFile, setActiveFile] = React.useState('Solution.java')\r\n  const [testContent, setTestContent] = React.useState('')\r\n  const [testCaseTab, setTestCaseTab] = React.useState('testcase')\r\n  const [selectedCaseIndex, setSelectedCaseIndex] = React.useState(0)\r\n  const [isSuccess, setIsSuccess] = React.useState(null)\r\n  const [testCases, setTestCases] = React.useState([])\r\n  const [selectedSolutionIndex, setSelectedSolutionIndex] = React.useState(0)\r\n  const [testResults, setTestResults] = React.useState(null)\r\n  const [isRunning, setIsRunning] = React.useState(false)\r\n\r\n  const { toast } = useToast()\r\n  const { setValue } = form\r\n\r\n  console.log(testCases)\r\n  const handleAddFile = () => {\r\n    const lastFileNumber = Math.max(\r\n      ...files.map((file) => {\r\n        const match = file.name.match(/Solution(\\d+)\\.java/)\r\n        return match ? parseInt(match[1]) : 0\r\n      })\r\n    )\r\n    const newFileName = `Solution${lastFileNumber + 1}.java`\r\n    setFiles((prev) => [...prev, { name: newFileName, content: '' }])\r\n    setActiveFile(newFileName)\r\n    setIsRunSuccess(false)\r\n  }\r\n\r\n  const isReadyToRun = () => {\r\n    const areFilesNonEmpty = files.every((file) => file.content.trim() !== '')\r\n    const isTestContentNonEmpty = testContent.trim() !== ''\r\n    return areFilesNonEmpty && isTestContentNonEmpty\r\n  }\r\n\r\n  const handleDeleteFile = (fileName) => {\r\n    if (files.length > 1) {\r\n      const indexToDelete = files.findIndex((file) => file.name === fileName)\r\n      const newFiles = files.filter((file) => file.name !== fileName)\r\n\r\n      for (let i = indexToDelete; i < newFiles.length; i++) {\r\n        const match = newFiles[i].name.match(/Solution(\\d+)\\.java/)\r\n        if (match) {\r\n          const newNumber = parseInt(match[1]) - 1\r\n          newFiles[i].name = `Solution${newNumber}.java`\r\n        }\r\n      }\r\n      setFiles(newFiles)\r\n      if (activeFile === fileName) {\r\n        setActiveFile(newFiles[indexToDelete] ? newFiles[indexToDelete].name : newFiles[newFiles.length - 1].name)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSolutionChange = (value) => {\r\n    setFiles((prevFiles) => prevFiles.map((file) => (file.name === activeFile ? { ...file, content: value } : file)))\r\n  }\r\n\r\n  const handleTestChange = (value) => {\r\n    setTestContent(value)\r\n  }\r\n\r\n  const handleRun = async () => {\r\n    if (!isReadyToRun()) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Empty Code or Test Content',\r\n        description: 'Your code or test content is empty, please check again',       \r\n      })\r\n      return\r\n    }\r\n    setIsRunning(true)\r\n    setTestCaseTab('result')    \r\n\r\n    const values = form.getValues()\r\n\r\n    const resource = {\r\n      resourceLimits: {\r\n        cpuTimeLimit: values.cpuTimeLimit,\r\n        cpuExtraTime: values.cpuExtraTime,\r\n        memoryLimit: values.memoryLimit * 1024,\r\n        enableNetwork: values.enableNetwork,\r\n        stackLimit: values.stackLimit * 1024,\r\n        maxThread: values.maxThread,\r\n        maxFileSize: values.maxFileSize * 1024\r\n      }\r\n    }\r\n\r\n    console.log(resource)\r\n\r\n    const testCase = transformTestCases(testCases)\r\n    const createCode = {\r\n      batchCodeExecuteDto: {\r\n        languageCode: 'Java',\r\n        testCases: testCase.testCases,\r\n        solutionCodes: files.map((file) => file.content),\r\n        testCode: testContent\r\n      },\r\n      resourceLimits: resource.resourceLimits\r\n    }\r\n\r\n    const testScript = transformTestScript(testCases)\r\n    setValue('testCases', testScript.testCases)\r\n\r\n    const testScriptDto = [\r\n      {\r\n        fileName: 'Main.java',\r\n        template: '',\r\n        testCode: testContent,\r\n        description: '',\r\n        languageCode: 'Java',\r\n        solutions: files.map((file) => ({\r\n          fileName: 'Main.java',\r\n          solutionCode: file.content,\r\n          description: '',\r\n          languageCode: 'Java',\r\n          priority: true\r\n        }))\r\n      }\r\n    ]\r\n\r\n    setValue('createTestScriptDto', testScriptDto)\r\n\r\n    try {\r\n      const response = await runCode(createCode)\r\n      setTestResults(response.codeExecuteDtos)\r\n      const hasCompileOrRuntimeErrors = response.codeExecuteDtos.some(dto =>\r\n        dto.compileErrors || dto.runTimeErrors\r\n      );\r\n  \r\n      if (hasCompileOrRuntimeErrors) {\r\n        toast({\r\n          variant: 'destructive',\r\n          title: 'Runcode Result',\r\n          description: 'There are compile or runtime errors. Please check your code.'\r\n        });\r\n        setIsRunSuccess(false)\r\n        return;\r\n      }\r\n\r\n      const hasFailedTestCase = response.codeExecuteDtos.some(dto =>\r\n        dto.testResults.some(testResult => !testResult.isPass)\r\n      );\r\n  \r\n      console.log(response)\r\n      if (hasFailedTestCase) {\r\n        toast({\r\n          variant: 'destructive',\r\n          title: 'Runcode Result',\r\n          description: 'Some test cases failed, please check your code again'\r\n        })\r\n        setIsRunSuccess(false)  \r\n      } else {\r\n        toast({\r\n          variant: 'success',\r\n          title: 'Runcode Result',\r\n          description: 'All test cases passed successfully!'\r\n        })\r\n        setIsRunSuccess(true)       \r\n      }     \r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Runcode Result',\r\n        description: 'There was a problem with your request.',\r\n        action: <ToastAction altText='Try again'>Try again</ToastAction>           \r\n      })\r\n      setIsRunSuccess(false)  \r\n      console.error('Error creating course:', error)\r\n    } finally {      \r\n      setIsRunning(false)\r\n    }\r\n  }\r\n\r\n  const getDisplayFields = (testCase) => {\r\n    return Object.keys(testCase).filter((key) => key !== 'isHidden')\r\n  }\r\n\r\n  const currentSolutionResult = testResults && testResults[selectedSolutionIndex]\r\n  const currentTestCase = currentSolutionResult && currentSolutionResult.testResults[selectedCaseIndex]\r\n\r\n  const failedSolutions = testResults\r\n    ? testResults.map((result, index) => (result.status.id !== 3 ? index : -1)).filter((index) => index !== -1)\r\n    : []\r\n\r\n  const failedTestCases =\r\n    currentSolutionResult && currentSolutionResult.testResults\r\n      ? currentSolutionResult.testResults\r\n          .map((result, index) => (!result.isPass ? index : -1))\r\n          .filter((index) => index !== -1)\r\n      : []\r\n\r\n  return (\r\n    <div className='flex flex-col'>\r\n      <TestCaseGenerator testCases={testCases} setTestCases={setTestCases} />\r\n\r\n      <div className='flex justify-center'>\r\n        <CardHeader>\r\n          <CardTitle className='text-center text-2xl font-semibold'>Create Code Problem</CardTitle>\r\n        </CardHeader>\r\n      </div>\r\n\r\n      <div className='h-[800px] rounded-xl border z-0'>\r\n        <ResizablePanelGroup direction='vertical'>\r\n          <ResizablePanel defaultSize={70}>\r\n            <ResizablePanelGroup direction='horizontal'>\r\n              <ResizablePanel defaultSize={50}>\r\n                <div className='flex h-full flex-col'>\r\n                  <div className='flex items-center justify-between px-4 py-2 border-b bg-background shrink-0'>\r\n                    <div className='flex items-center gap-2'>\r\n                      <Code className='w-5 h-5' />\r\n                      <h2 className='text-sm font-medium'>Solution</h2>\r\n                    </div>\r\n                    <div className='flex items-center gap-2'>\r\n                      <DropdownMenu>\r\n                        <DropdownMenuTrigger asChild>\r\n                          <Button variant='outline' className='w-[200px] justify-between'>\r\n                            {activeFile}\r\n                            <ChevronDown className='ml-2 h-4 w-4 opacity-50' />\r\n                          </Button>\r\n                        </DropdownMenuTrigger>\r\n                        <DropdownMenuContent className='w-[200px]'>\r\n                          {files.map((file) => (\r\n                            <DropdownMenuItem\r\n                              key={file.name}\r\n                              onSelect={() => setActiveFile(file.name)}\r\n                              className='justify-between'\r\n                            >\r\n                              {file.name}\r\n                              {files.length > 1 && (\r\n                                <Button\r\n                                  type='button'\r\n                                  variant='ghost'\r\n                                  size='icon'\r\n                                  className='h-4 w-4 p-0'\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation()\r\n                                    handleDeleteFile(file.name)\r\n                                  }}\r\n                                >\r\n                                  <X className='h-3 w-3' />\r\n                                </Button>\r\n                              )}\r\n                            </DropdownMenuItem>\r\n                          ))}\r\n                        </DropdownMenuContent>\r\n                      </DropdownMenu>\r\n                      <Button type='button' variant='ghost' size='icon' onClick={handleAddFile}>\r\n                        <Plus className='w-4 h-4' />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  <div className='flex-1 w-full min-h-0'>\r\n                    <Editor\r\n                      height='100%'\r\n                      defaultLanguage='java'\r\n                      theme='vs-dark'\r\n                      value={files.find((file) => file.name === activeFile)?.content || ''}\r\n                      onChange={handleSolutionChange}\r\n                      options={{\r\n                        minimap: { enabled: false },\r\n                        scrollBeyondLastLine: false,\r\n                        fontSize: 14,\r\n                        automaticLayout: true,\r\n                        lineNumbers: 'on',\r\n                        lineNumbersMinChars: 3,\r\n                        padding: { top: 10, bottom: 10 }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </ResizablePanel>\r\n              <ResizableHandle />\r\n              <ResizablePanel defaultSize={50}>\r\n                <div className='flex h-full flex-col'>\r\n                  <div className='flex items-center justify-between px-4 py-3 border-b bg-background shrink-0'>\r\n                    <div className='flex items-center gap-2'>\r\n                      <TestTube2 className='w-5 h-5' />\r\n                      <h2 className='text-sm font-medium'>Test</h2>\r\n                    </div>\r\n                    <div className='flex items-center gap-2'>\r\n                      <Tabs value='test.java' className='flex-1'>\r\n                        <TabsList className='p-0 bg-transparent h-7'>\r\n                          <TabsTrigger\r\n                            value='test.java'\r\n                            className='relative px-3 text-xs bg-background text-foreground h-7'\r\n                          >\r\n                            Main.java\r\n                          </TabsTrigger>\r\n                        </TabsList>\r\n                      </Tabs>\r\n                    </div>\r\n                  </div>\r\n                  <div className='flex-1 w-full min-h-0'>\r\n                    <Editor\r\n                      height='100%'\r\n                      defaultLanguage='java'\r\n                      theme='vs-dark'\r\n                      value={testContent}\r\n                      onChange={handleTestChange}\r\n                      options={{\r\n                        minimap: { enabled: false },\r\n                        scrollBeyondLastLine: false,\r\n                        fontSize: 14,\r\n                        automaticLayout: true,\r\n                        lineNumbers: 'on',\r\n                        lineNumbersMinChars: 3,\r\n                        padding: { top: 10, bottom: 10 }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </ResizablePanel>\r\n            </ResizablePanelGroup>\r\n          </ResizablePanel>\r\n          <ResizableHandle />\r\n          <ResizablePanel defaultSize={30}>\r\n            <Card className='flex h-full flex-col rounded-none'>\r\n              <Tabs value={testCaseTab} onValueChange={setTestCaseTab} className='flex h-full flex-col'>\r\n                <div className='flex items-center justify-between border-b px-4 py-2 bg-gray-400'>\r\n                  <TabsList>\r\n                    <TabsTrigger value='testcase'>Testcase</TabsTrigger>\r\n                    <TabsTrigger value='result'>Test Result</TabsTrigger>\r\n                  </TabsList>\r\n                  {isSuccess === false && (\r\n                    <div className='flex items-center gap-2'>\r\n                      <CircleX className='text-red-700 w-8 h-8' />\r\n                      <p className='text-red-700 font-medium'>Failed, please check Test Result</p>\r\n                    </div>\r\n                  )}\r\n                  {isSuccess === true && (\r\n                    <div className='flex items-center gap-2'>\r\n                      <CircleCheck className='text-green-700 w-8 h-8' />\r\n                      <p className='text-green-700 font-medium'>Success, you can move to the next step.</p>\r\n                    </div>\r\n                  )}\r\n                  <Button type='button' onClick={handleRun} disabled={isRunning}>\r\n                    {isRunning ? (\r\n                      <>\r\n                        <Loader2 className='mr-2 h-4 w-4 animate-spin' />\r\n                        Running...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Play className='mr-2 h-4 w-4' />\r\n                        Run\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n                <ScrollArea className='flex-1'>\r\n                  <TabsContent value='testcase' className='p-4'>\r\n                    <div className='space-y-6'>\r\n                      <div className='flex items-center gap-2 flex-wrap'>\r\n                        {testCases.map((_, index) => (\r\n                          <Button\r\n                            key={index}\r\n                            type='button'\r\n                            variant={selectedCaseIndex === index ? 'default' : 'outline'}\r\n                            className='bg-emerald-100 hover:bg-emerald-200 text-emerald-700'\r\n                            onClick={() => setSelectedCaseIndex(index)}\r\n                          >\r\n                            Case {index + 1}\r\n                          </Button>\r\n                        ))}\r\n                      </div>\r\n                      {testCases[selectedCaseIndex] && (\r\n                        <div className='space-y-4'>\r\n                          {getDisplayFields(testCases[selectedCaseIndex]).map((field) => (\r\n                            <div key={field}>\r\n                              <div className='text-sm text-muted-foreground mb-2'>{field} =</div>\r\n                              <Input\r\n                                className='font-mono bg-muted'\r\n                                value={testCases[selectedCaseIndex][field]}\r\n                                readOnly\r\n                              />\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </TabsContent>\r\n                  <TabsContent value='result' className='p-4'>\r\n                    {!testResults ? (\r\n                      <div className='text-center text-lg font-medium text-gray-500'>Please run Code First</div>\r\n                    ) : isRunning ? (\r\n                      <TestResultLoading />\r\n                    ) : (\r\n                      <div className='space-y-6'>\r\n                        <SolutionSelector\r\n                          solutions={testResults}\r\n                          selectedIndex={selectedSolutionIndex}\r\n                          onSelect={setSelectedSolutionIndex}\r\n                          failedSolutions={failedSolutions}\r\n                        />\r\n                        {currentSolutionResult &&\r\n                          currentSolutionResult.testResults &&\r\n                          currentSolutionResult.testResults.length > 0 && (\r\n                            <>\r\n                              <TestCaseSelector\r\n                                testCases={currentSolutionResult.testResults}\r\n                                selectedIndex={selectedCaseIndex}\r\n                                onSelect={setSelectedCaseIndex}\r\n                                failedTestCases={failedTestCases}\r\n                              />\r\n                              {currentTestCase && <TestCaseDisplay result={currentTestCase} />}\r\n                            </>\r\n                          )}\r\n                        <SolutionResult result={currentSolutionResult} />\r\n                      </div>\r\n                    )}\r\n                  </TabsContent>\r\n                </ScrollArea>\r\n              </Tabs>\r\n            </Card>\r\n          </ResizablePanel>\r\n        </ResizablePanelGroup>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(CodeEditor)\r\n","import React from 'react'\r\n\r\nimport { Editor } from '@monaco-editor/react'\r\nimport { Tabs, TabsList, TabsTrigger } from '@radix-ui/react-tabs'\r\nimport { FileCode2, Save, TestTube2 } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { useFormContext } from 'react-hook-form'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'\r\n\r\nconst Template = ({ setIsSaveTemplate }) => {\r\n  const [testContent, setTestContent] = useState('')\r\n  const { setValue, getValues } = useFormContext();\r\n\r\n  const handleTestChange = (value) => {\r\n    setTestContent(value || '')\r\n  }\r\n\r\n  const handleSaveAndFinish = () => {\r\n    const currentBatchCodeExecuteDto = getValues('createTestScriptDto');\r\n    currentBatchCodeExecuteDto[0].template = testContent\r\n    setValue('createTestScriptDto', currentBatchCodeExecuteDto)\r\n    setIsSaveTemplate(true);\r\n  };\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-4xl mx-auto\">\r\n      <CardHeader>\r\n        <CardTitle>Final Step: Set Up Problem Template</CardTitle>\r\n        <CardDescription>\r\n          This is the last step in creating your programming problem. Here, you can set up the initial code template that learners will see when they start the problem. \r\n          Include any necessary class structures, method signatures, or comments to guide the learners.\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className='flex flex-col h-[400px] border rounded-md overflow-hidden'>\r\n          <div className='flex items-center justify-between px-4 py-2 border-b bg-background shrink-0'>\r\n            <div className='flex items-center gap-2'>\r\n              <FileCode2 className='w-5 h-5' />\r\n              <h2 className='text-sm font-medium'>Problem Template</h2>\r\n            </div>\r\n            <div className='flex items-center gap-2'>\r\n              <Tabs defaultValue='solution.java' className='flex-1'>\r\n                <TabsList className='h-8 p-0 bg-transparent'>\r\n                  <TabsTrigger value='solution.java' className='px-3 text-xs h-8 data-[state=active]:bg-muted'>\r\n                    Solution.java\r\n                  </TabsTrigger>\r\n                </TabsList>\r\n              </Tabs>\r\n            </div>\r\n          </div>\r\n          <div className='flex-1 min-h-0'>\r\n            <Editor\r\n              height=\"100%\"\r\n              defaultLanguage='java'\r\n              theme='vs-dark'\r\n              value={testContent}\r\n              onChange={handleTestChange}\r\n              options={{\r\n                minimap: { enabled: false },\r\n                scrollBeyondLastLine: false,\r\n                fontSize: 14,\r\n                automaticLayout: true,\r\n                lineNumbers: 'on',\r\n                lineNumbersMinChars: 3,\r\n                padding: { top: 10, bottom: 10 }\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n      <CardFooter className=\"flex justify-between\">      \r\n        <Button type='button' onClick={handleSaveAndFinish}>\r\n          <Save className=\"w-4 h-4 mr-2\" />\r\n          Save\r\n        </Button>\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default React.memo(Template);\r\n","import React from 'react'\r\nimport BasicInfoStep from '@/pages/Problem/ProblemLecture/Create/basic-info-step'\r\nimport CodeEditor from '@/pages/Problem/ProblemLecture/Create/CodeEditor'\r\nimport Template from '@/pages/Problem/ProblemLecture/Create/Template';\r\n\r\nconst FormTabs = ({ activeTab, form, setIsSaveTemplate, setIsRunSuccess, hasLecture }) => {\r\n\r\n  return (\r\n    <div className='mx-auto px-4 py-24'>\r\n      <div className='space-y-6'>\r\n        <div style={{ display: activeTab === 'basic' ? 'block' : 'none' }}>\r\n          <BasicInfoStep form={form} hasLecture={hasLecture} />\r\n        </div>\r\n        <div style={{ display: activeTab === 'code' ? 'block' : 'none' }}>\r\n          <CodeEditor form={form} setIsRunSuccess={setIsRunSuccess} />\r\n        </div>\r\n        <div style={{ display: activeTab === 'description' ? 'block' : 'none' }}>\r\n          <Template form={form} setIsSaveTemplate={setIsSaveTemplate} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(FormTabs);\r\n","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport Header from './Header';\r\nimport BottomTabs from './BottomTabs';\r\nimport { FormProvider, useForm } from 'react-hook-form'\r\nimport { useToast } from '@/hooks/use-toast'\r\nimport FormTabs from './FormTabs';\r\nimport { createProblemLecture } from '@/services/api/problemApi'\r\nimport { useMatch, useNavigate } from '@tanstack/react-router';\r\nimport { createProblemLectureRoute } from '@/routers/router';\r\nimport { ToastAction } from '@/components/ui/toast';\r\n\r\n\r\nconst CreateProblemLecture = ({ }) => {\r\n\r\n  //new\r\n  const { params } = useMatch(createProblemLectureRoute.id);\r\n  const { lectureId } = params;\r\n  const { courseId } = params;\r\n  const navigate = useNavigate()\r\n\r\n\r\n  const [activeTab, setActiveTab] = useState('basic');\r\n  const [isSaveTemplate, setIsSaveTemplate] = useState(false)\r\n  const { toast } = useToast();\r\n  const [isRunSuccess, setIsRunSuccess] = useState(false)\r\n  const [hasLecture, setHasLecture] = useState(false)\r\n  const [isLoadingSubmit, setIsLoadingSubmit] = useState(false)\r\n\r\n  //new\r\n  useEffect(() => {\r\n    if (lectureId) {\r\n      setHasLecture(true)\r\n    }\r\n  }, [lectureId])\r\n  \r\n  const form = useForm({\r\n    defaultValues: {\r\n      title: \"\",\r\n      description: \"\",\r\n      problemType: \"Practice\",\r\n      difficultyType: \"Medium\",\r\n      cpuTimeLimit: 2,\r\n      cpuExtraTime: 2.5,\r\n      memoryLimit: 250,\r\n      stackLimit: 64,\r\n      maxThread: 70,\r\n      maxFileSize: 10,\r\n      enableNetwork: false,\r\n      isActive: true,\r\n      testCases: {},\r\n      createTestScriptDto: []\r\n    }\r\n  });\r\n\r\n  const onSubmit = async (data) => {\r\n\r\n    const updatedData = { ...data };\r\n\r\n    // Quy đổi memoryLimit từ MB sang KB\r\n    updatedData.memoryLimit = updatedData.memoryLimit * 1024;\r\n    updatedData.maxFileSize = updatedData.maxFileSize * 1024;\r\n    updatedData.stackLimit = updatedData.stackLimit * 1024;\r\n\r\n\r\n    const problemData = {\r\n      createProblemDto: updatedData\r\n    }\r\n\r\n    console.log(problemData)\r\n\r\n    setIsLoadingSubmit(true)\r\n    try {\r\n      const response = await createProblemLecture(problemData, lectureId)\r\n      toast({\r\n        variant: 'success',\r\n        title: 'Create problem successfully',\r\n        description: 'Create problem successfully'\r\n      })\r\n      navigate({ to: `/edit-curriculum-course/${courseId}` })\r\n    } catch (error) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Oops! Something went wrong',\r\n        description: 'Please try again!',\r\n        action: <ToastAction altText='Try again' onClick={() => onSubmit(form.getValues())}>Try again</ToastAction>\r\n      })\r\n      console.error('Error creating problem:', error)\r\n    } finally {\r\n      setIsLoadingSubmit(false)\r\n    }\r\n  \r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Header courseId={courseId} />\r\n      <FormProvider {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)}>\r\n        <FormTabs \r\n          activeTab={activeTab} \r\n          form={form} \r\n          setIsSaveTemplate={setIsSaveTemplate} \r\n          setIsRunSuccess={setIsRunSuccess} \r\n          hasLecture={hasLecture}\r\n        />\r\n        <BottomTabs \r\n          \r\n          activeTab={activeTab} \r\n          setActiveTab={setActiveTab}\r\n          isSaveTemplate={isSaveTemplate}\r\n          isRunSuccess={isRunSuccess}\r\n          isLoadingSubmit={isLoadingSubmit}\r\n        />\r\n        </form>\r\n      </FormProvider>\r\n     \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(CreateProblemLecture);\r\n"],"names":["Header","courseId","navigate","useNavigate","jsx","ArrowLeft","tabs","FileText","Code","BookOpen","BottomTabs","activeTab","setActiveTab","isSaveTemplate","isRunSuccess","isLoadingSubmit","currentTabIndex","tab","isLastTab","isFirstTab","isDialogOpen","setIsDialogOpen","useState","openDialog","closeDialog","handleConfirm","handlePrevious","handleNext","jsxs","Button","Icon","Fragment","Loader2","ArrowRight","ControlledAlertDialog","BasicInfoStep","form","FormField","field","FormItem","FormLabel","FormControl","Input","FormMessage","MarkdownFormField","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Switch","TestCaseSelector","testCases","selectedIndex","onSelect","failedTestCases","_","index","TestCaseDisplay","result","key","value","CheckCircle2","XCircle","SolutionSelector","solutions","failedSolutions","SolutionResult","CodeEditor","setIsRunSuccess","files","setFiles","React.useState","activeFile","setActiveFile","testContent","setTestContent","testCaseTab","setTestCaseTab","selectedCaseIndex","setSelectedCaseIndex","isSuccess","setIsSuccess","setTestCases","selectedSolutionIndex","setSelectedSolutionIndex","testResults","setTestResults","isRunning","setIsRunning","toast","useToast","setValue","handleAddFile","newFileName","file","match","prev","isReadyToRun","areFilesNonEmpty","isTestContentNonEmpty","handleDeleteFile","fileName","indexToDelete","newFiles","i","newNumber","handleSolutionChange","prevFiles","handleTestChange","handleRun","values","resource","createCode","transformTestCases","testScript","transformTestScript","testScriptDto","response","runCode","dto","hasFailedTestCase","testResult","error","ToastAction","getDisplayFields","testCase","currentSolutionResult","currentTestCase","TestCaseGenerator","CardHeader","CardTitle","ResizablePanelGroup","ResizablePanel","DropdownMenu","DropdownMenuTrigger","ChevronDown","DropdownMenuContent","DropdownMenuItem","e","X","Plus","Editor","_a","ResizableHandle","TestTube2","Tabs","TabsList","TabsTrigger","Card","CircleX","CircleCheck","Play","ScrollArea","TabsContent","TestResultLoading","React.memo","Template","setIsSaveTemplate","getValues","useFormContext","handleSaveAndFinish","currentBatchCodeExecuteDto","CardDescription","CardContent","FileCode2","CardFooter","Save","Template$1","React","FormTabs","hasLecture","FormTabs$1","CreateProblemLecture","params","useMatch","createProblemLectureRoute","lectureId","setHasLecture","setIsLoadingSubmit","useEffect","useForm","onSubmit","data","updatedData","problemData","createProblemLecture","FormProvider","CreateProblemLecture$1"],"mappings":"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"}